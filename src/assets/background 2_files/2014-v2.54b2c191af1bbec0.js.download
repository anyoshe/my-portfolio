"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2014],{98460:function(e,l,t){var i=t(5152),s=t.n(i);l.Z=s()(()=>t.e(509).then(t.bind(t,70509)),{loadableGenerated:{webpack:()=>[70509]}}),s()(()=>t.e(509).then(t.bind(t,70509)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[70509]}})},62014:function(e,l,t){t.r(l),t.d(l,{default:function(){return W}});var i=t(85893),s=t(70531),n=t(67294),a=t(11738),o=t(62084),r=t(72649),d=t(54892),u=t(36962),c=t(84933),h=t(18964),g=t(54722),v=t(72974),p=t(7399),m=t(98460),f=t(28182),y=t(94418),_=t(2881),x=t(4417),b=t(78640),Z=t(46508),j=t(88095),w=t(76219),S=t(13962),E=t(91648),k=t(89694);let C=(0,j.ZP)(k.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-f594b4cb-0"})(["cursor:pointer;margin-top:8px;"]),M=j.ZP.div.withConfig({componentId:"sc-f594b4cb-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,w.rS)("palette.imageTeaser.placeholder"),k.Z,E.PJ,E.Mq,C);var A=e=>{let{imageSrc:l,imageAlt:t,width:s,...n}=e;return(0,i.jsxs)(M,{...n,children:[(0,i.jsx)("div",{className:"image-wrapper",children:l&&(0,i.jsx)("img",{alt:t,src:l,height:"80",width:s})}),(0,i.jsxs)(k.Z,{$family:"base",children:[(0,i.jsx)(S.c,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(C,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(S.c,{i18nKey:"similarimage-002",children:"Back"})})]})]})},N=t(35888),T=t(48984),I=t(60627),G=t(21802),O=t(60446),R=t(11720),z=t(11229),F=t(41142),L=t(7229),P=t(47786),$=t(24703),D=t(44397),B=t(65636),H=t(39359),K=t(39797),U=t(68447),q=t(80419),Q=t(816),W=e=>{var l,t,j,w,S,E,C,M,W,J,V,Y,X;let{user:ee,userIsFetched:el,searchQueries:et,searchTerm:ei,topicEntity:es,topicEntityIsFetched:en,topicEntityIsLoading:ea,feed:eo,hasSimilarImage:er,similarImageQuery:ed,seoLoaded:eu,blurb:ec,blurbTitlePart:eh,setShowSearchDrawer:eg,showSearchDrawer:ev,setMobileFiltering:ep,setMobileFilterCount:em,isBoostPage:ef,handleBoostSearch:ey,sidebarState:e_,searchTermIsSpam:ex=!1,showcasedImages:eb,showcasedImagesLoading:eZ=!1,isDesktop:ej,hasHydrated:ew}=e,{queries:eS}=(0,K.Z)(),{showRawpixelTeam:eE}=(0,B.ZP)(),ek=(0,P.I8)(),eC=(0,$.EC)(),[eM,eA]=(0,n.useState)(!0),{data:eN,isSuccess:eT}=eo,eI=eo.isPending||eZ;(0,n.useEffect)(()=>{!eI&&ee&&eC.isReady&&eA(!1)},[eI,ee,eC.isReady]);let eG=(null===(t=ed.data)||void 0===t?void 0:null===(l=t.results)||void 0===l?void 0:l.length)&&(null===(j=ed.data.results[0])||void 0===j?void 0:j.id)?null===(w=ed.data)||void 0===w?void 0:w.results[0]:null,eO=er&&(null==eG?void 0:eG.metadata)?null==eG?void 0:eG.metadata.description:"",eR=er&&eG?Math.round((null==eG?void 0:eG.display_image_width)/(null==eG?void 0:eG.display_image_height)*80):0,ez=er&&eG?eR>400?(0,F._N)(eG,500):eR>300?(0,F._N)(eG,400):eR>200?(0,F._N)(eG,300):(0,F._N)(eG,200):void 0,{results:eF,total:eL,rpa:eP,pinterest_totals:e$}=eN||{},{page:eD,totalPages:eB,pageSize:eH}=(0,n.useMemo)(()=>(0,Q.zo)(et,eN),[eN,et]),eK=(null==e$?void 0:e$.user_remaining)||0,eU=(null==eN?void 0:eN.spellcheck_result)&&!!(null==eN?void 0:null===(S=eN.spellcheck_result)||void 0===S?void 0:S.suggested_key),[eq,eQ]=(0,n.useState)(!1),[eW,eJ]=(0,n.useState)(!0),eV=(0,n.useCallback)(e=>{!0===e||!1===e?eQ(e):eQ(e=>!e)},[]),eY=n.useMemo(()=>{let{isActiveEntityFetching:e}=e_;return!e},[e_]),eX=ej||!ew;(0,n.useEffect)(()=>{(0,_.Q5)()},[eq,eX]),(0,n.useEffect)(()=>{ew&&eW&&el&&eJ(!1)},[eS.topic_group,eS.topic,eW,ew,es,el]);let e0=(0,n.useMemo)(()=>{var e;return ew&&((null==ei?void 0:ei.length)||(null==eP?void 0:null===(e=eP.image)||void 0===e?void 0:e.length))?(0,z.x)(JSON.stringify({keys:ei||"",sortedKeys:(null==eP?void 0:eP.image)||""})):null},[ei,null==eP?void 0:eP.image,ew]),e1=eu&&!es&&!er,e4=(0,n.useCallback)(()=>eg(!1),[eg]),{pathQuery:e9}=e_||{},e8=(0,n.useMemo)(()=>{var e,l;return(null===(e=((null==e9?void 0:null===(l=e9.getFilters)||void 0===l?void 0:l.call(e9,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&Object.keys(D.s.elements).includes(e.value))).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e9]);(0,n.useEffect)(()=>{eX||(em(e8),ep(e8>0))},[eX,e8,ep,null==es?void 0:es.id,em]),(0,s.K)(()=>{var e;el&&ee&&(null==eP?void 0:null===(e=eP.image)||void 0===e?void 0:e.length)&&eT&&ek("search",ee,{keys:ei&&(null==ei?void 0:ei.length)?ex?eP.search:ei:eP.image,total:eL,sortedKeys:eP.image,parameters:et}).then().catch()},[ee,el,ei,null==eP?void 0:eP.image,eT,eL,et,ex]),(0,n.useEffect)(()=>{el&&ee&&(null==es?void 0:es.id)&&ek("topicview",ee,{topicId:es.id,topicType:es.entity_type,viewmode:"search",topicTag:es.tag}).then().catch()},[ee,el,null==es?void 0:es.id,null==es?void 0:es.tag,null==es?void 0:es.entity_type,ek]),(0,n.useEffect)(()=>{eN&&el&&eD&&eT&&ek("feed",ee,{feed:"search_feed",action:"view",value:(null==eP?void 0:eP.image)||"",page:eD,total:eL||0}).then().catch()},[ee,el,null==eP?void 0:eP.image,eD,eN,eL,eT,ek]);let[e2,e7]=n.useMemo(()=>{if(!(null==es?void 0:es.type)&&!(null==es?void 0:es.id))return[null,null];let e=(0,H.S)({widgets:es.widgets,title:es.title,title_long:es.title_long},null,"title");return es.published||(e="".concat(e," (unpublished)")),[e,es.seo_description]},[null==es?void 0:es.id,null==es?void 0:es.published,null==es?void 0:es.seo_description,null==es?void 0:es.title_long,null==es?void 0:es.title,null==es?void 0:es.type,null==es?void 0:es.widgets]),e6=(0,n.useMemo)(()=>{if(ef||!(null==es?void 0:es.type))return!1;if("topic_group"===es.type&&es.show_new_button)return!0;if("topic"===es.type){var e,l;let t=new L.Z(eS.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(l=es.widgets)||void 0===l?void 0:null===(e=l[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[ef,null==es?void 0:es.type,null==es?void 0:es.show_new_button,null==es?void 0:es.widgets,eS.path]),e5=(0,n.useMemo)(()=>{if(!ew||!el||!eC.isReady||ea)return{visibility:q.A}},[ew,ea,el,eC.isReady]),e3=(0,n.useMemo)(()=>{if(!el||!eC.isReady||!ew||ea||eI&&(eM||e6))return{visibility:q.A}},[ew,el,ea,eI,eM,e6,eC.isReady]);return(0,i.jsxs)(i.Fragment,{children:[!ef&&el&&eC.isReady&&!eX&&!es&&!ea&&(0,i.jsx)(N.Z,{defaultTab:"elements"}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(g.N4,{className:"results",style:e5,children:[(0,i.jsx)(d.Z,{searchEntity:es,searchValue:ei,className:"search-wrapper",onImageSearch:ef?ey:null}),!ex&&!eU&&!es&&!ea&&!ef&&!eX&&(null==ei?void 0:ei.length)>0&&(0,i.jsxs)(g.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(k.Z,{as:"h1",$family:"bold",$capitalize:!0,$fontSize:"20px",$lineHeight:"1.25",children:ei}),(null==ec?void 0:ec.length)>0&&(0,i.jsx)(b.B,{blurbTitlePart:eh,blurb:ec})]}),ef&&(0,i.jsx)(f.Z,{}),!ef&&(!!es||!ew||!en)&&(0,i.jsx)(r.Z,{title:e2,seoDescription:e7,entity:es,analyticsOrigin:"search_header"}),er&&!!ez&&(0,i.jsx)(A,{imageSrc:ez,imageAlt:eO,width:eR}),ew&&!!ee&&eU&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(k.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(ex?"":' for "'.concat((null==eN?void 0:null===(E=eN.spellcheck_result)||void 0===E?void 0:E.searched_key)||"",'"'),". Did you mean "),(0,i.jsx)(k.Z,{as:v.Z,$family:"medium",pathname:"/".concat(ef?"boost":"search","/").concat((null==eN?void 0:null===(C=eN.spellcheck_result)||void 0===C?void 0:C.suggested_key)||""),extra:"".concat(R.Z.COMMON.SORT,"=curated&").concat(R.Z.COMMON.PAGE,"=1"),children:(null==eN?void 0:null===(M=eN.spellcheck_result)||void 0===M?void 0:M.suggested_key)||""}),"?"]})}),!!es&&eE&&!!(null==ee?void 0:null===(W=ee.access)||void 0===W?void 0:W.show_rawpixel_team)&&ew&&(0,i.jsx)(a.Z,{entity:es}),!!es&&(null==es?void 0:null===(J=es.assigned_artists)||void 0===J?void 0:J.length)>0&&(0,i.jsx)(h.Z,{className:"story-collaborators",children:es.assigned_artists.map((e,l)=>{var t;return(0,i.jsx)(c.Z,{className:"story-collaborator",profile:e,showName:(null===(t=es.assigned_artists)||void 0===t?void 0:t.length)===1},l)})}),!er&&(0,i.jsx)(Z.Z,{topicEntity:es,showSearchFilters:!0,showDefaultFilters:eY,showSidebarCollapseButton:!0,onSidebarCollapseClick:eV,isCollapsed:eq,currentTagsQuery:et[R.Z.IMAGE.TAGS]||"",queries:et,urlQueries:eS,pathname:"/".concat(ef?"boost":"search").concat((null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):"")}),(!!(null==eF?void 0:eF.length)||eI)&&(0,i.jsx)(o.Z,{topicEntity:es,config:ef&&x.zT||x.Vs,images:eF,showcasedImages:eb,analyticsSearchData:e0,showCreateButton:e6,style:e3}),eT&&!ef&&!(null==eF?void 0:eF.length)&&!eI&&(0,i.jsx)(i.Fragment,{children:et[R.Z.COMMON.FLAGGED_BY]&&(null==ee?void 0:ee.uid)===0?(0,i.jsx)(p.Z,{type:"favorites-logged-out"}):(0,i.jsx)(p.Z,{type:"image",rawSearchTerm:ex?"":ei})}),ef&&eT&&!(null==eF?void 0:eF.length)&&!eI&&(0,i.jsx)(m.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(y.Z,{page:eD,hideNext:eD*eH>=O.E7,pageSize:eH,disabled:eI,totalPages:eB,totalResults:ef?eK:eL,resultsSearch:eU?null==eN?void 0:null===(V=eN.spellcheck_result)||void 0===V?void 0:V.suggested_key:ex?"":ei,boost:ef&&!eI&&!!eL,pathname:"/".concat(ef?"boost":"search").concat(eU?"/".concat(encodeURIComponent(null==eN?void 0:null===(Y=eN.spellcheck_result)||void 0===Y?void 0:Y.suggested_key)):(null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):""),style:e5}),!eX&&!er&&!!eL&&!eI&&(0,i.jsx)(Z.Z,{topicEntity:es,showSearchFilters:!1,currentTagsQuery:et[R.Z.IMAGE.TAGS]||"",queries:et,pathname:"/".concat(ef?"boost":"search").concat(eU?"/".concat(encodeURIComponent(null==eN?void 0:null===(X=eN.spellcheck_result)||void 0===X?void 0:X.suggested_key)):(null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):"")}),e1&&eT&&!!eL&&!ex&&(0,i.jsx)("div",{className:"seo-description",children:(0,i.jsx)(U.Z,{server:!0,children:(null==ec?void 0:ec.length)>0&&(0,i.jsxs)(k.Z,{as:"h1",children:[!!eh&&(0,i.jsx)(k.Z,{$family:"medium",children:eh}),ec]})})}),eX&&!(null==ee?void 0:ee.premium)&&!G.y0.includes((null==ee?void 0:ee.rank)||"")&&!ea&&!es&&(!!(null==eF?void 0:eF.length)||eI&&eM)&&!ef&&(0,i.jsx)(I.Z,{style:e3})]})]}),eX&&(0,i.jsx)(u.Z,{isCollapsed:eq,onCollapse:eV,sidebarState:e_,className:"search-sidebar"}),!eX&&(0,i.jsx)(T.Z,{onClose:e4,open:ev,pathSidebarState:e_})]})]})}},39359:function(e,l,t){t.d(l,{S:function(){return h}});var i=t(85893),s=t(67294),n=t(11720),a=t(87699),o=t(7229),r=t(74155),d=t(50285),u=t(39797);let c=(e,l,t,i,s,n)=>({label:e,tag:l,key:t,searchOption:i,entity:s,...n}),h=function(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&l&&a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l])return a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l];if(l){let i=Object.values(e.widgets||{}).find(e=>{let{widget_tag:t}=e;return t===l});return(null==i?void 0:i.title)||t&&e[t]||e.title_long||e.title}return t&&e[t]||e.title_long||e.title};l.Z=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:t,path:g}=(0,u.Z)(),v=g.startsWith("/create/search"),p=(0,s.useMemo)(()=>new o.Z(t[n.Z.WEB.PATH]),[t]),{filterGroups:m=[]}=(0,d.Z)(),f=s.useMemo(()=>{if("header"===l)return[];let e=t[n.Z.IMAGE.TAGS]?t[n.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if(t[n.Z.WEB.PATH]){let l=[...p.getFilters("tag","tags_or","color").map(e=>e.value),...p.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...l.map(e=>String(e))),p.getFilter("hearted")&&e.push(a.LIKES_TAG)}return(t[n.Z.IMAGE.TAGS_OR]&&e.push(...t[n.Z.IMAGE.TAGS_OR].split(",")),t[n.Z.COMMON.FLAGGED_BY]&&e.push(a.LIKES_TAG),e.length)?m.reduce((e,l)=>[...e,...l.filters],[]).map(l=>{if("sizes"===l.tag){let l=r.Z.find(l=>e.includes(l.tag));if(l)return{...l,published:!0}}return l}).filter(l=>l.published&&(e.includes(l.tag)||"sizes"===l.tag&&r.Z.some(l=>e.includes(l.tag)))):[]},[m,t,l,p]);return s.useMemo(()=>{let s=[];if(e){let l=h(e,null,null,"search_placeholder");s.push(c(l,e.tag,"".concat(e.type,"-").concat(e.tag),v?1:0,e))}if(f.length&&f.forEach(e=>{s.push(c(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),v?1:0,null,{filter:!0}))}),"header"!==l){var a,o,r;let e=t[n.Z.IMAGE.COLOR]||(null===(a=p.getFilter("color"))||void 0===a?void 0:a.value);e&&(null===(r=e.toString)||void 0===r?void 0:null===(o=r.call(e))||void 0===o?void 0:o.length)&&s.push(c((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.toString().replace("#",""),v?1:0,null,{filter:!0}))}return{placeholders:{},searchTags:s.filter((e,l,t)=>{if(t.findIndex(l=>l.tag===e.tag)===l)return!0}).slice(0,20)}},[e,f,t,l,v,p])}}}]);