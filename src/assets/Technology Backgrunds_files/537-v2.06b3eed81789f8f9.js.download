"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537,7237],{69358:function(e,o,i){i.d(o,{Z:function(){return w}});var t=i(85893),l=i(93967),a=i.n(l),s=i(67294),n=i(59538),r=i(48928),c=i(26517),d=i(46536),p=i(36680),u=i(89694),v=i(9422),h=i(67305),m=i(68447),g=i(13962),x=i(93104),j=i(47533),b=i(74480);let C=s.memo(e=>{let{inSidebar:o,onSaveClick:i,isSavePopupOpen:l,saveStatus:n,onDotsMenuClick:r,onDeleteFromProjectClick:d,showDeleteFromProject:p,isMenuPopupOpen:u,showSave:v}=e,[h,m]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{m(!0)},[]),h)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"overlay-buttons top left",children:(0,t.jsx)(j.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:u}),onClick:r.bind(null,!1),children:(0,t.jsx)(c.Pp,{$margin:"0",$fontSize:"12px"})})}),(0,t.jsx)(x.Z,{className:"overlay-buttons top left mobile-only",children:(0,t.jsx)(j.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:u}),onClick:r.bind(null,!0),children:(0,t.jsx)(c.Pp,{$margin:"0",$fontSize:"16px"})})}),!o&&(0,t.jsxs)(x.Z,{className:"overlay-buttons bottom left",children:[v&&(0,t.jsx)(b.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:n,onClick:i}),p&&(0,t.jsx)(j.Z,{onClick:d,children:(0,t.jsx)(g.c,{i18nKey:"designteaser-001",children:"Remove"})})]})]}):null});C.displayName="DesignTeaserOverlay";var w=e=>{var o,i,l,g;let{entity:x,project:j,onClick:b,onItemClick:w,inSidebar:f,onSaveClick:$,onDotsMenuClick:k,onDeleteFromProjectClick:y,showDeleteFromProject:Z,isMenuPopupOpen:N,isSavePopupOpen:S,saveStatus:P,showSave:O,showWatermarkStatus:_=!1,readOnly:T=!1,hideOverlay:I=!1}=e,{name:D,alias:M,deleted:z}=x,F=!!j,E=!f&&!F&&!!D,[L,R]=(0,n.pF)(x.width,x.height,x.units),A=(0,s.useRef)(),{src:U}=(0,h.Z)(null===(i=x.images)||void 0===i?void 0:null===(o=i.cover)||void 0===o?void 0:o.style_uri,null===(l=x.images)||void 0===l?void 0:l.cover,A),G=(0,s.useCallback)(e=>{$(e,x,f?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:{},j)},[x,$,f,j]),B=(0,s.useCallback)((e,o)=>{k(o,x,j,{enableSaving:!z&&(e||f),inSidebar:f})},[x,k,j,f,z]),K=(0,s.useCallback)(e=>{y(e,x,"project")},[y,x]),q=(0,s.useCallback)(e=>{f&&w&&w(e),b&&b(x,U,e)},[b,x,U,f,w]),H=!T&&!z,J=(0,s.useMemo)(()=>({paddingBottom:"".concat(R/L*100,"%"),opacity:(null==x?void 0:x.is_new)?.7:1}),[L,R,null==x?void 0:x.is_new]);return(0,t.jsxs)(r.Z,{ref:A,$rounded:!f,$hasCaption:E,"data-testid":!f&&(null==x?void 0:x.id)?"".concat(v.ItemTypes.DESIGN,"-").concat(x.id):void 0,children:[(0,t.jsxs)("div",{className:a()("image-wrapper design-image-wrapper",{"is-popup-active":S||N}),style:J,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,t.jsx)(p.Z,{condition:!x.is_new&&H,onClick:H?q:void 0,to:H?"".concat(M).concat(f?"":"?path=home.tab-my_designs"):void 0,target:H&&!f?"_blank":null,children:(0,t.jsx)(d.Z,{alt:D,width:L,height:R,srcSet:U||void 0,src:U||void 0,className:"teaser-image drag-preview",draggable:f&&!z?void 0:"false"})}),!T&&!I&&(0,t.jsx)(C,{inSidebar:f,onDotsMenuClick:B,isMenuPopupOpen:N,onSaveClick:G,isSavePopupOpen:S,saveStatus:P,onDeleteFromProjectClick:K,showDeleteFromProject:Z,showSave:O}),_&&(null===(g=x.designInfos)||void 0===g?void 0:g.has_watermark)&&(0,t.jsx)(c.zM,{$color:"equator",$fontSize:"18px",className:"watermarked-status"})]}),E&&(0,t.jsx)(p.Z,{className:"image-caption design-caption",condition:!(null==x?void 0:x.is_new)&&H,onClick:H?q:void 0,to:H?"".concat(M).concat(f?"":"?path=home.tab-my_designs"):void 0,target:H&&!f?"_blank":null,children:(0,t.jsx)(u.Z,{$fontSize:"16px",children:(0,t.jsx)(m.Z,{user:!0,children:D})})})]})}},77237:function(e,o,i){i.d(o,{Z:function(){return b}});var t=i(85893),l=i(93967),a=i.n(l),s=i(67294),n=i(9422),r=i(48928),c=i(46536),d=i(36680),p=i(67305),u=i(26517),v=i(93104),h=i(47533),m=i(74480),g=i(13962);let x=s.memo(e=>{let{inSidebar:o,onSaveClick:i,isSavePopupOpen:l,saveStatus:n,onDotsMenuClick:r,onDeleteFromProjectClick:c,showDeleteFromProject:d,isMenuPopupOpen:p,showSave:x}=e,[j,b]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{b(!0)},[]),j)?(0,t.jsxs)(t.Fragment,{children:[r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"overlay-buttons top left",children:(0,t.jsx)(h.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:p}),onClick:r.bind(null,!1),children:(0,t.jsx)(u.Pp,{$margin:"0",$fontSize:"12px"})})}),(0,t.jsx)(v.Z,{className:"overlay-buttons top left mobile-only",children:(0,t.jsx)(h.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:p}),onClick:r.bind(null,!0),children:(0,t.jsx)(u.Pp,{$margin:"0",$fontSize:"16px"})})})]}),!o&&(0,t.jsxs)(v.Z,{className:"overlay-buttons bottom left",children:[x&&(0,t.jsx)(m.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:n,onClick:i}),d&&(0,t.jsx)(h.Z,{onClick:c,children:(0,t.jsx)(g.c,{i18nKey:"uploadteaser-001",children:"Remove"})})]})]}):null});x.displayName="UploadTeaserOverlay";let j={useTransparentPng:!0};var b=e=>{var o,i,l;let{entity:u,project:v,onItemClick:h,onSaveClick:m,saveStatus:g,isSavePopupOpen:b,inSidebar:C,onDotsMenuClick:w,onDeleteFromProjectClick:f,showDeleteFromProject:$,isMenuPopupOpen:k,showSave:y}=e,{id:Z,uid:N,name:S,width:P,height:O,style_uri:_,filename:T,deleted:I}=u,D=s.useRef(),M=(null==T?void 0:T.length)?null===(o=T.split(".").pop())||void 0===o?void 0:o.toLowerCase():"png",{src:z}=(0,p.Z)(_,u,D,"style_uri",j),F=(0,s.useCallback)(e=>{m(e,u,C?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:null)},[u,m,C]),E=(0,s.useCallback)((e,o)=>{w(o,u,v,{enableSaving:!I&&(e||C),inSidebar:C})},[w,u,v,C,I]),L=(0,s.useCallback)(e=>{f(e,u,"project")},[f,u]),R=(0,s.useMemo)(()=>({paddingBottom:"".concat(O/P*100,"%")}),[O,P]),A=!!(null==u?void 0:null===(i=u.imgPlaceholder)||void 0===i?void 0:i.src)&&!_,U=(0,s.useMemo)(()=>({opacity:.3}),[]);return(0,t.jsx)(r.Z,{ref:D,className:a()("upload-teaser",{png:"png"===M}),"data-testid":!C&&(null==u?void 0:u.id)?"".concat(n.ItemTypes.UPLOAD,"-").concat(u.id):void 0,children:(0,t.jsxs)("div",{className:a()("image-wrapper",{"is-popup-active":b||k}),style:R,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,t.jsxs)(d.Z,{condition:!I&&!A,onClick:C&&!I&&h&&!A?h:void 0,to:I||C||A?void 0:"/uploads/".concat(N,"/").concat(Z),children:[!!_&&(0,t.jsx)(c.Z,{crossOrigin:"anonymous",alt:S,width:P,height:O,srcSet:z||void 0,src:z||void 0,className:"teaser-image drag-preview"}),!!A&&(0,t.jsx)("img",{alt:"",crossOrigin:"anonymous",src:null==u?void 0:null===(l=u.imgPlaceholder)||void 0===l?void 0:l.src,width:P,height:O,className:"teaser-image drag-preview",onLoad:()=>{var e;URL.revokeObjectURL(null==u?void 0:null===(e=u.imgPlaceholder)||void 0===e?void 0:e.src)},style:U})]}),!A&&(0,t.jsx)(x,{onSaveClick:F,isSavePopupOpen:b,inSidebar:C,saveStatus:g,onDotsMenuClick:E,onDeleteFromProjectClick:L,isMenuPopupOpen:k,showDeleteFromProject:$,showSave:y})]})})}},9422:function(e,o,i){i.d(o,{ItemTypes:function(){return t}});let t=Object.freeze({IMAGE:"image",UPLOAD:"upload",DESIGN:"design"})}}]);